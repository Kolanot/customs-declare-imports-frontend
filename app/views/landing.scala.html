@*
 * Copyright 2018 HM Revenue & Customs
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *@

@import config.AppConfig
@import repositories.declaration.Submission
@import uk.gov.hmrc.play.views.formatting.Dates._
@import org.joda.time.LocalDate

@(submissions: Seq[Submission])(implicit request: Request[_], messages: Messages, appConfig: AppConfig)

    @main_template(title = "Hello from customs-declare-imports-frontend", bodyClasses = None) {
        <p class="message">Well done. You have begun your first step on a long journey.</p>
        <p><a href="@routes.DeclarationController.displaySubmitForm("declarant-details")">Begin a new submission</a></p>
        <h1>Your submitted declarations</h1>
        <table>
            <thead>
                <th>Conversation ID</th>
                <th>LRN</th>
                <th>Date Submitted</th>
            </thead>
            <tbody>
                @for(submission <- submissions) {
                    <tr>
                        <td>@submission.conversationId</td>
                        <td>@submission.lrn.getOrElse("")</td>
                        <td>@formatDate(new LocalDate(submission.submittedTimestamp))</td>
                    </tr>
                }
            </tbody>
        </table>
    }
